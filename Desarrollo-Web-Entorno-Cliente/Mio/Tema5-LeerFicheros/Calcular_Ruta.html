<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        #mapa {
            width: auto;
            height: 700px;
        }
    </style>

    <script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyBY5CuaTmzLXwyn0yWS8NLMVbqWMMSydNc">
    </script>

    <script>

        // Variables globales
        var directionsDisplay = new google.maps.DirectionsRenderer();
        var directionsService = new google.maps.DirectionsService();
        var mapa;

        window.onload = function () {
            document.querySelector("#btCalcular").addEventListener('click', calcularRuta);
            cargarMapa();
        }


        function cargarMapa() {
            var miCasa = new google.maps.LatLng(37.386765, -5.981461);

            var opcionesMapa = {
                zoom: 9,
                center: miCasa
            }

            mapa = new google.maps.Map(document.getElementById("mapa"), opcionesMapa);

            directionsDisplay.setMap(mapa);
        }

        function calcularRuta() {
            var origen = document.getElementById("origen").value;
            var destino = document.getElementById("destino").value;

            var request = {
                origin: origen,
                destination: destino,
                travelMode: google.maps.TravelMode.DRIVING //En coche
            };

            directionsService.route(request, function (result, status) {
                if (status == google.maps.DirectionsStatus.OK) {
                    console.log("result: ", result);
                    directionsDisplay.setDirections(result);
                }
            })
        }

    </script>
</head>

<body>

    <p>
        <label for="origen">Origen: </label>
        <input id="origen" type="text">
        <br><br>
        <label for="destino">Destino: </label>
        <input id="destino" type="text">
        <br><br>
        <button id="btCalcular">Calcular ruta</button>
    </p>

    <div id="mapa"></div>

</body>

</html>