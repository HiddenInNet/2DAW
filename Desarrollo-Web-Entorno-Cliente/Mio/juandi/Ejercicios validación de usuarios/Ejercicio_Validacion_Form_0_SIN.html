<!DOCTYPE html>

<head>
	<meta charset="UTF-8" />
	<title>Validar Formularios</title>
	<style type="text/css">
		span {
			color: red;
		}
	</style>
	<script src="Utilidades.js"></script>
	<script>
		function validarTodosLosCampos() {
			console.log("validamos");
			var valido = true;
			//validar nombre
			if (document.getElementById("nombre").value.length < 2) {
				document.getElementById("info_nombre").innerText = "Escribe un nombre";
				document.getElementById("nombre").focus();
				valido = false;
			} else {
				document.getElementById("info_nombre").innerText = "";
			}

			//validar dni
			if (!validarDni(document.getElementById("dni").value)) {
				document.getElementById("info_dni").innerText = "Escribe un DNI";
				if (valido) {
					document.getElementById("dni").focus();
				}
				valido = false;
			} else {
				document.getElementById("info_dni").innerText = "";
			}

			//validar sexo
			if (document.getElementById("sexo").value == "") {
				document.getElementById("info_sexo").innerText = "Elige una opcion";
				if (valido) {
					document.getElementById("sexo").focus();
				}
				valido = false;
			} else {
				document.getElementById("info_sexo").innerText = "";
			}

			//validar sugerencia
			if (document.getElementById("sugerencia").value == "") {
				document.getElementById("info_sugerencia").innerText = "Escribe una sugerencia";
				if (valido) {
					document.getElementById("sugerencia").focus();
				}
				valido = false;
			} else {
				document.getElementById("info_sugerencia").innerText = "";
			}
			return valido;
		}

		window.onload = function () {
			document.getElementById("formulario_1").onsubmit = validarTodosLosCampos;

			document.getElementById("nombre").onkeypress = soloLetras;

			document.getElementById("nombre").onkeyup = aMayusculas;

		}

	</script>
</head>

<body>

	<h1>Ejercicio Validación de Formularios</h1>
	<form id="formulario_1">
		<p>
		<h3>Formulario de Registro:</h3>
		<label for="nombre">Nombre: </label>
		<input type="text" name="nombre" id="nombre" maxlength="25" size="15" />
		<span id="info_nombre"></span>
		<div>(Mínimo 2 letras)</div>
		<br><br>

		<label for="dni">NIF: </label>
		<input type="text" name="dni" id="dni" maxlength="9" size="9" />
		<span id="info_dni"></span>
		<br><br><br>

		<label>Sexo: </label>
		<select id="sexo">
			<option value="">Selecciona una opción</option>
			<option value="F">Femenino</option>
			<option value="M">Masculino</option>
			<option value="Y">Ya quisiera yo</option>
		</select>
		<span id="info_sexo"></span>

		<br><br><br>
		<label for="sugerencia">Alguna sugerencia: </label>
		<textarea id="sugerencia" name="sugerencia"></textarea>
		<span id="info_sugerencia"></span>
		<br><br>
		</p>
		<p><b>Todos los campos son obligatorios.</b></p>
		<br>
		<p>
			<input type="submit" value="ENVIAR">
			<br><br>
			<input type="reset" value="Limpiar">

		</p>
	</form>
</body>

</html>