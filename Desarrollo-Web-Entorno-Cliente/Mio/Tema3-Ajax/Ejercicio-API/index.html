<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Valor moneda</title>
    <link rel="stylesheet" href="style.css">
</head>

<script>

    function peticionAJAX(url) {

        var peticion = new XMLHttpRequest();

        peticion.open('GET', url, true);
        peticion.send();

        peticion.onreadystatechange = function () {
            if (peticion.readyState == 4 && peticion.status == 200) {
                var responseData = JSON.parse(peticion.responseText);

                console.log(responseData);
            }
        };

    }

    function validarNumero(event) {


        // Reemplaza cualquier caracter que no sea un dígito o un punto por una cadena vacía
        input.value = input.value.replace(/[^0-9.]/g, '');

        // Si hay más de un punto, quita el exceso
        if (input.value.split('.').length > 2) {
            input.value = input.value.slice(0, -1);
        }

        // Si el primer carácter es un punto, agrega un cero al principio
        if (input.value.charAt(0) === '.') {
            input.value = '0' + input.value;
        }

        // Si hay más de un cero al principio, quita los ceros adicionales
        if (input.value.startsWith('00')) {
            input.value = '0' + input.value.slice(1).replace(/^0+/, '');
        }
    }


    window.onload = function () {

        peticionAJAX("https://api.frankfurter.app/currencies");

        document.getElementById("cifra").onkeypress = validarNumero(event);
    }

</script>

<body>
    <!-- https://www.frankfurter.app/ -->

    <header>
        <div id="header-top">
            <div id="logo"></div>
        </div>
        <div id="header-bottom">
            <div id="menu">
                <nav>

                </nav>
            </div>
        </div>
    </header>


    <main>
        <div id="main">
            <div id="cantidad">
                <div id="numero">
                    <input type="text" id="cifra" required autofocus placeholder="0" />
                </div>
                <div id="divisa">

                </div>
            </div>

            <div id="tabla">
                <!-- Aqui ira la tabla con todos los valores referentes a la moneda indicada en .<div id="moneda">. -->

            </div>
        </div>
    </main>


    <footer>
        <div id="created"></div><!-- Created by David Gonzalez -->
    </footer>
</body>

</html>